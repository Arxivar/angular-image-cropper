(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("angular"));
	else if(typeof define === 'function' && define.amd)
		define(["angular"], factory);
	else if(typeof exports === 'object')
		exports["imageCropper"] = factory(require("angular"));
	else
		root["imageCropper"] = factory(root["angular"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("var angular = __webpack_require__(1);\r\n\r\nvar ngModule = angular.module('imageCropper', []);\r\n\r\nvar Cropper = __webpack_require__(2);\r\n__webpack_require__(3)(angular, Cropper);\r\n\r\nmodule.exports = 'imageCropper';//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcclxuXHJcbnZhciBuZ01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdpbWFnZUNyb3BwZXInLCBbXSk7XHJcblxyXG52YXIgQ3JvcHBlciA9IHJlcXVpcmUoJy4vaW1hZ2VDcm9wcGVyJyk7XHJcbnJlcXVpcmUoJy4vaW1hZ2VDcm9wcGVyRGlyZWN0aXZlJykoYW5ndWxhciwgQ3JvcHBlcik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9ICdpbWFnZUNyb3BwZXInO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_1__;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCI/MTFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiYW5ndWxhclwiXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("module.exports = Cropper;\r\n\r\n/**\r\n * Cropper.\r\n * @param options\r\n * @returns {Cropper}\r\n * @constructor\r\n */\r\nfunction Cropper(options) {\r\n\r\n  if (!options.imageUrl) {\r\n    throw new Error('Cropper: No image url given.');\r\n  }\r\n\r\n  this.isReady = false;\r\n  this.originalUrl = options.imageUrl;\r\n\r\n  // Default options.\r\n  var defaults = {\r\n    checkCrossOrigin: false,\r\n    apiCallback: undefined,\r\n    cropCallback: undefined,\r\n    width: 400,\r\n    height: 300,\r\n    imageUrl: undefined,\r\n    target: undefined,\r\n    showControls: true,\r\n    fitOnInit: false,\r\n    centerOnInit: false,\r\n    zoomStep: 0.1,\r\n    actionLabels: {\r\n      rotateLeft: ' < ',\r\n      rotateRight: ' > ',\r\n      zoomIn: ' + ',\r\n      zoomOut: ' - ',\r\n      fit: '(fit)',\r\n      crop: '[crop]'\r\n    }\r\n  };\r\n\r\n  // Setup options.\r\n  this.options = this.extend(defaults, options);\r\n\r\n  // Setup gesture events.\r\n  this.gesture = {};\r\n  this.gesture.events = {\r\n    start: 'touchstart mousedown',\r\n    move: 'touchmove mousemove',\r\n    stop: 'touchend mouseup'\r\n  };\r\n\r\n  this.pointerPosition = undefined;\r\n\r\n  // Setup basic elements.\r\n  this.elements = {\r\n    target: options.target,\r\n    body: document.getElementsByTagName('body')[0]\r\n  };\r\n\r\n  this.buildDOM();\r\n  this.useHardwareAccelerate(this.elements.image);\r\n\r\n  // API Setup:\r\n  var api = {\r\n    crop: this.cropImage.bind(this),\r\n    fit: this.applyFit.bind(this),\r\n    rotate: this.applyRotation.bind(this),\r\n    zoomIn: this.applyZoomIn.bind(this),\r\n    zoomOut: this.applyZoomOut.bind(this),\r\n    remove: this.remove.bind(this)\r\n  };\r\n\r\n  /**\r\n   * Initialization of the Cropper (dimensions, event binding...).\r\n   */\r\n  this.events.on('ImageReady', this.initialize.bind(this));\r\n\r\n  /**\r\n   * Execute callback function when cropped.\r\n   */\r\n  if (this.options.cropCallback) {\r\n    this.events.on('Cropped', function(base64) {\r\n      this.options.cropCallback(base64);\r\n    }.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Send API when image is ready if readyCallback is true.\r\n   */\r\n  if (this.options.apiCallback) {\r\n    this.events.on('ImageReady', function() {\r\n      this.options.apiCallback(api);\r\n    }.bind(this));\r\n  }\r\n}\r\n\r\nCropper.prototype.initialize = function() {\r\n  this.setDimensions();\r\n\r\n  if (this.imageHasToFit()) {\r\n    this.fitImage();\r\n    this.centerImage();\r\n  }\r\n  this.initializeGesture();\r\n\r\n  if (this.options.centerOnInit) {\r\n    this.centerImage();\r\n  }\r\n\r\n  if (this.options.showControls) {\r\n    this.bindControls();\r\n  }\r\n};\r\n\r\nCropper.prototype.bindControls = function() {\r\n  var self = this;\r\n  this.elements.controls.rotateLeft.addEventListener('click', function() {\r\n    self.applyRotation(-90);\r\n  });\r\n  this.elements.controls.rotateRight.addEventListener('click', function() {\r\n    self.applyRotation(90);\r\n  });\r\n  this.elements.controls.zoomIn.addEventListener('click', function() {\r\n    self.applyZoomIn(self.zoomInFactor);\r\n  });\r\n  this.elements.controls.zoomOut.addEventListener('click', function() {\r\n    self.applyZoomOut(self.zoomOutFactor);\r\n  });\r\n  this.elements.controls.fit.addEventListener('click', this.applyFit.bind(this));\r\n  this.elements.controls.crop.addEventListener('click', this.cropImage.bind(this));\r\n};\r\n\r\nCropper.prototype.applyRotation = function(degree) {\r\n  this.rotateImage(degree);\r\n};\r\n\r\nCropper.prototype.applyZoomIn = function(zoom) {\r\n  this.zoomImage(1 + parseFloat(zoom));\r\n};\r\nCropper.prototype.applyZoomOut = function(zoom) {\r\n  this.zoomImage(1 / ( 1 + parseFloat(zoom)));\r\n};\r\n\r\nCropper.prototype.applyFit = function() {\r\n  this.fitImage();\r\n  this.centerImage();\r\n};\r\n\r\nCropper.prototype.imageHasToFit = function() {\r\n  return this.elements.image.naturalWidth < this.options.width ||\r\n    this.elements.image.naturalHeight < this.options.height ||\r\n    this.width < 1 || this.height < 1 || // 1 means 100%.\r\n    this.options.fitOnInit;\r\n};\r\n\r\n/**\r\n * Build DOM element for the Cropper appended in the targeted element.\r\n */\r\nCropper.prototype.buildDOM = function() {\r\n  var _elements;\r\n  _elements = this.elements;\r\n\r\n  // Wrapper.\r\n  _elements.wrapper = document.createElement('div');\r\n  _elements.wrapper.className = 'imgCropper-wrapper';\r\n\r\n  // Container.\r\n  _elements.container = document.createElement('div');\r\n  _elements.container.className = 'imgCropper-container';\r\n\r\n  // Image.\r\n  _elements.image = document.createElement('img');\r\n  _elements.image.className = 'imgCropper-image';\r\n\r\n\r\n  // Target -> Wrapper -> Container -> Image\r\n  _elements.container.appendChild(_elements.image);\r\n  _elements.wrapper.appendChild(_elements.container);\r\n  _elements.target.appendChild(_elements.wrapper);\r\n\r\n  if (!this.options.showControls) {\r\n    return this.loadImage();\r\n  }\r\n\r\n  // Controls.\r\n  _elements.controls = {};\r\n  _elements.controls.wrapper = document.createElement('div');\r\n  _elements.controls.wrapper.className = 'imgCropper-controls';\r\n\r\n  _elements.controls.rotateLeft = this._buildControl(this.options.actionLabels.rotateLeft);\r\n  _elements.controls.rotateRight = this._buildControl(this.options.actionLabels.rotateRight);\r\n  _elements.controls.zoomIn = this._buildControl(this.options.actionLabels.zoomIn);\r\n  _elements.controls.zoomOut = this._buildControl(this.options.actionLabels.zoomOut);\r\n  _elements.controls.fit = this._buildControl(this.options.actionLabels.fit);\r\n\r\n  _elements.controls.crop = this._buildControl(this.options.actionLabels.crop);\r\n\r\n\t// Target -> Wrapper -> buttons\r\n\t//d.parisi non passando la relativa label è ora possibile nascondere un bottone\r\n\tif(this.options.actionLabels.rotateLeft){\r\n\t\t_elements.controls.wrapper.appendChild(_elements.controls.rotateLeft);\r\n\t}\r\n\tif(this.options.actionLabels.zoomOut){\r\n\t\t_elements.controls.wrapper.appendChild(_elements.controls.zoomOut);\r\n\t}\r\n\tif(this.options.actionLabels.fit){\r\n\t\t_elements.controls.wrapper.appendChild(_elements.controls.fit);\r\n\t}\r\n\tif(this.options.actionLabels.crop){\r\n\t\t_elements.controls.wrapper.appendChild(_elements.controls.crop);\r\n\t}\r\n\tif(this.options.actionLabels.zoomIn){\r\n\t\t_elements.controls.wrapper.appendChild(_elements.controls.zoomIn);\r\n\t}\r\n\tif(this.options.actionLabels.rotateRight){\r\n\t\t_elements.controls.wrapper.appendChild(_elements.controls.rotateRight);\r\n\t}\r\n\r\n\t_elements.target.appendChild(_elements.controls.wrapper);\r\n  this.loadImage();\r\n};\r\n\r\n/**\r\n * Build control element.\r\n * @param label\r\n * @returns {Element}\r\n */\r\nCropper.prototype._buildControl = function(label) {\r\n  var control = document.createElement('button');\r\n  control.setAttribute('type', 'button');\r\n  control.innerHTML = label;\r\n\r\n  return control;\r\n};\r\n\r\n/**\r\n * Remove all DOM element parts of the Cropper.\r\n */\r\nCropper.prototype.remove = function() {\r\n  var elements = this.elements;\r\n  elements.target.removeChild(elements.wrapper);\r\n  if (this.options.showControls) elements.target.removeChild(elements.controls.wrapper);\r\n};\r\n\r\nCropper.prototype.loadImage = function() {\r\n  var self = this;\r\n  var xhr;\r\n\r\n  // XMLHttpRequest disallows to open a Data URL in some browsers like IE11 and Safari.\r\n  if (/^data\\:/.test(this.originalUrl)) {\r\n    this.originalBase64 = this.originalUrl;\r\n    return this.setupImageSRC();\r\n  }\r\n\r\n  xhr = new XMLHttpRequest();\r\n  xhr.onerror = xhr.onabort = function(response) {\r\n    self.originalBase64 = self.originalUrl;\r\n    self.setupImageSRC();\r\n  };\r\n\r\n  // Need to have proper sets of 'Access-Control-Allow-Origin' on the requested resource server.\r\n  xhr.onload = function() {\r\n    self.originalArrayBuffer = this.response;\r\n    self.originalBase64 = 'data:image/jpeg;base64,' + self.base64ArrayBuffer(this.response);\r\n    self.setupImageSRC();\r\n  };\r\n  xhr.open('get', this.originalUrl, true);\r\n  //xhr.setRequestHeader('Content-Type', 'image/jpg'); // TODO: Auto determine the image MIME's type.\r\n  xhr.responseType = 'arraybuffer';\r\n  xhr.send();\r\n};\r\n\r\n/**\r\n * Check crossOrigins and setup image src.\r\n */\r\nCropper.prototype.setupImageSRC = function() {\r\n  var _image = this.elements.image;\r\n\r\n  if (this.options.checkCrossOrigin && this.isCrossOrigin(this.originalUrl)) {\r\n    this.crossOrigin = _image.crossOrigin;\r\n\r\n    if (this.crossOrigin) {\r\n      this.crossOrigin = this.originalUrl;\r\n    } else {\r\n      this.crossOrigin = 'anonymous';\r\n\r\n      // Bust cache with a timestamp.\r\n      this.crossOriginUrl = this.addTimestamp(this.originalUrl);\r\n    }\r\n  }\r\n\r\n  if (this.crossOrigin) {\r\n    this.elements.image.crossOrigin = this.crossOrigin;\r\n  }\r\n\r\n  // Setup image src.\r\n  this.elements.image.src = this.crossOriginUrl || this.originalUrl; // Need to verify.\r\n  //this.elements.image.src = this.originalBase64; // Need to verify.\r\n\r\n  // Waiting the image as loaded to trigger event.\r\n  this.elements.image.onload = function() {\r\n    this.events.triggerHandler('ImageReady');\r\n  }.bind(this);\r\n};\r\n\r\n/**\r\n * Set dimensions.\r\n */\r\nCropper.prototype.setDimensions = function() {\r\n  this.zoomInFactor = 1 + parseFloat(this.options.zoomStep);\r\n  this.zoomOutFactor = 1 / this.zoomInFactor;\r\n\r\n  this.imageRatio = this.options.height / this.options.width;\r\n  this.width = this.elements.image.naturalWidth / this.options.width;\r\n  this.height = this.elements.image.naturalHeight / this.options.height;\r\n  this.left = 0;\r\n  this.top = 0;\r\n  this.angle = 0;\r\n  this.data = {\r\n    scale: 1,\r\n    degrees: 0,\r\n    x: 0,\r\n    y: 0,\r\n    w: this.options.width,\r\n    h: this.options.height\r\n  };\r\n\r\n  // Container.\r\n  this.elements.container.style.width = this.width * 100 + '%';\r\n  this.elements.container.style.height = this.height * 100 + '%';\r\n  this.elements.container.style.top = 0;\r\n  this.elements.container.style.left = 0;\r\n\r\n  // Wrapper.\r\n  this.elements.wrapper.style.height = 'auto';\r\n  this.elements.wrapper.style.width = '100%';\r\n  this.elements.wrapper.style.paddingTop = (this.imageRatio * 100) + '%';\r\n\r\n  this.isReady = true;\r\n};\r\n\r\n/**\r\n * Image should be already loaded.\r\n */\r\nCropper.prototype.initializeGesture = function() {\r\n  var self = this;\r\n  this.addEventListeners(this.elements.image, this.gesture.events.start, function(event) {\r\n    if (self.isReady && self.isValidEvent(event)) {\r\n      event.preventDefault();\r\n      event.stopImmediatePropagation();\r\n      self.pointerPosition = self.getPointerPosition(event);\r\n      bind();\r\n    }\r\n  });\r\n\r\n  var bind = function() {\r\n    self.elements.body.classList.add('imgCropper-dragging');\r\n    self.addEventListeners(self.elements.body, self.gesture.events.move, drag);\r\n    self.addEventListeners(self.elements.body, self.gesture.events.stop, unbind);\r\n  };\r\n\r\n  var unbind = function() {\r\n    self.elements.body.classList.remove('imgCropper-dragging');\r\n    self.removeEventListeners(self.elements.body, self.gesture.events.move, drag);\r\n    self.removeEventListeners(self.elements.body, self.gesture.events.stop, unbind);\r\n  };\r\n\r\n  var drag = function(event) {\r\n    self.dragging.call(self, event);\r\n  };\r\n};\r\n\r\n/**\r\n * Dragging action.\r\n * @param event\r\n */\r\nCropper.prototype.dragging = function(event) {\r\n  var dx, dy, left, p, top;\r\n  event.preventDefault();\r\n  event.stopImmediatePropagation();\r\n\r\n  p = this.getPointerPosition(event); // Cursor position after moving.\r\n\r\n  dx = p.x - this.pointerPosition.x; // Difference (cursor movement) on X axes.\r\n  dy = p.y - this.pointerPosition.y; // Difference (cursor movement) on Y axes.\r\n\r\n  this.pointerPosition = p; // Update cursor position.\r\n\r\n  /**\r\n   * dx > 0 if moving right.\r\n   * dx / clientWidth is the percentage of the wrapper's width it moved over X.\r\n   */\r\n  left = (dx === 0)? null : this.left - dx / this.elements.wrapper.clientWidth;\r\n\r\n  /**\r\n   * dy > 0 if moving down.\r\n   * dy / clientHeight is the percentage of the wrapper's width it moved over Y.\r\n   */\r\n  top = (dy === 0)? null : this.top - dy / this.elements.wrapper.clientHeight;\r\n\r\n  // Move.\r\n  this.setOffset(left, top);\r\n};\r\n\r\n/**\r\n * Set image offset manipulations.\r\n * @param left {number} is a relative number.\r\n * @param top {number} is a relative number.\r\n */\r\nCropper.prototype.setOffset = function(left, top) {\r\n  /**\r\n   * Offset left.\r\n   */\r\n  if (left || left === 0) {\r\n    if (left < 0) { left = 0; }\r\n    if (left > this.width - 1) { left = this.width - 1; }\r\n\r\n    this.elements.container.style.left = (-left * 100).toFixed(2) + '%';\r\n    this.left = left;\r\n    this.data.x = Math.round(left * this.options.width);\r\n  }\r\n\r\n  /**\r\n   * Offset top.\r\n   */\r\n  if (top || top === 0) {\r\n    if (top < 0) { top = 0; }\r\n    if (top > this.height - 1) { top = this.height - 1; }\r\n\r\n    this.elements.container.style.top = (-top * 100).toFixed(2) + '%';\r\n    this.top = top;\r\n    this.data.y = Math.round(top * this.options.height);\r\n  }\r\n};\r\n\r\nCropper.prototype.fitImage = function() {\r\n  var prevWidth, relativeRatio;\r\n\r\n  prevWidth = this.width;\r\n  relativeRatio = this.height / this.width;\r\n\r\n  if (relativeRatio > 1) {\r\n    this.width = 1;\r\n    this.height = relativeRatio;\r\n  } else {\r\n    this.width = 1 / relativeRatio;\r\n    this.height = 1;\r\n  }\r\n\r\n  this.elements.container.style.width = (this.width * 100).toFixed(2) + '%';\r\n  this.elements.container.style.height = (this.height * 100).toFixed(2) + '%';\r\n\r\n  this.data.scale *= this.width / prevWidth;\r\n};\r\n\r\nCropper.prototype.centerImage = function() {\r\n  this.setOffset((this.width - 1) / 2, (this.height - 1) / 2);\r\n};\r\n\r\n/**\r\n * Do a rotation on the image with degrees given.\r\n * @param degrees\r\n */\r\nCropper.prototype.rotateImage = function(degrees) {\r\n  // Only rotate of 90°.\r\n  if (!(degrees !== 0 && degrees % 90 === 0)) {\r\n    throw new Error('Cropper: Support only multiple of 90° for rotation.');\r\n  }\r\n\r\n  // Smallest positive equivalent angle (total rotation).\r\n  this.angle = (this.angle + degrees) % 360;\r\n  if (this.angle < 0) {\r\n    this.angle += 360;\r\n  }\r\n\r\n  // Dimensions are changed?\r\n  if (degrees % 180 !== 0) {\r\n    /**\r\n     * Switch canvas dimensions (as percentages).\r\n     * canvasWidth = @width * this.options.width; canvasHeight = @height * this.options.height\r\n     * To make canvasWidth = canvasHeight (to switch dimensions):\r\n     * => newWidth * this.options.width = @height * this.options.height\r\n     * => newWidth = @height * this.options.height / this.options.width\r\n     * => newWidth = @height * this.imageRatio\r\n     */\r\n    var tempW = this.height * this.imageRatio;\r\n    var tempH = this.width / this.imageRatio;\r\n    this.width = tempW;\r\n    this.height = tempH;\r\n    if (this.width >= 1 && this.height >= 1) {\r\n      this.elements.container.style.width = this.width * 100 + '%';\r\n      this.elements.container.style.height = this.height * 100 + '%';\r\n    } else {\r\n      this.fitImage();\r\n    }\r\n  }\r\n\r\n  var newWidth = 1;\r\n  var newHeight = 1;\r\n\r\n  // Adjust element's (image) dimensions inside the container.\r\n  if (this.angle % 180 !== 0) {\r\n    var ratio = this.height / this.width * this.imageRatio;\r\n    newWidth = ratio;\r\n    newHeight = 1 / ratio;\r\n  }\r\n\r\n  this.elements.image.style.width = newWidth * 100 + '%';\r\n  this.elements.image.style.height = newHeight * 100 + '%';\r\n  this.elements.image.style.left = (1 - newWidth) / 2 * 100 + '%';\r\n  this.elements.image.style.top = (1 - newHeight) / 2 * 100 + '%';\r\n\r\n\r\n  this.elements.image.style.transform = 'rotate(' + this.angle + 'deg)';\r\n  this.elements.image.style.webkitTransform = 'rotate(' + this.angle + 'deg)';\r\n  this.elements.image.style.mozTransform = 'rotate(' + this.angle + 'deg)';\r\n  this.elements.image.style.msTransform = 'rotate(' + this.angle + 'deg)';\r\n  this.elements.image.style.oTransform = 'rotate(' + this.angle + 'deg)';\r\n\r\n  this.centerImage();\r\n  this.data.degrees = this.angle;\r\n};\r\n\r\nCropper.prototype.zoomImage = function(factor) {\r\n  if (factor <= 0 || factor == 1) {\r\n    return;\r\n  }\r\n\r\n  var originalWidth = this.width;\r\n\r\n  if (this.width * factor > 1 && this.height * factor > 1) {\r\n    this.height *= factor;\r\n    this.width *= factor;\r\n    this.elements.container.style.height = (this.height * 100).toFixed(2) + '%';\r\n    this.elements.container.style.width = (this.width * 100).toFixed(2) + '%';\r\n    this.data.scale *= factor;\r\n  } else {\r\n    this.fitImage();\r\n    factor = this.width / originalWidth;\r\n  }\r\n\r\n  /**\r\n   * Keep window center.\r\n   * The offsets are the distances between the image point in the center of the wrapper\r\n   * and each edge of the image, less half the size of the window.\r\n   * Percentage offsets are relative to the container (the wrapper), so half the wrapper\r\n   * is 50% (0.5) and when zooming the distance between any two points in the image\r\n   * grows by 'factor', so the new offsets are:\r\n   *\r\n   * offset = (prev-center-to-edge) * factor - half-window\r\n   *\r\n   */\r\n  var left = (this.left + 0.5) * factor - 0.5;\r\n  var top = (this.top + 0.5) * factor - 0.5;\r\n\r\n  this.setOffset(left, top);\r\n};\r\n\r\nCropper.prototype.cropImage = function() {\r\n  return this.cropHandler();\r\n};\r\n\r\nCropper.prototype.cropHandler = function() {\r\n  var canvas, context;\r\n\r\n  canvas = document.createElement('canvas');\r\n  canvas.height = this.options.height;\r\n  canvas.width = this.options.width;\r\n\r\n  var cx = -canvas.width / 2;\r\n  var cy = -canvas.height / 2;\r\n\r\n  context = canvas.getContext('2d');\r\n  context.translate(-cx,-cy); //move to centre of canvas\r\n  context.rotate(this.data.degrees * Math.PI/180);\r\n  context.scale(this.data.scale, this.data.scale);\r\n\r\n  if(this.data.degrees == 0) { // simple offsets from canvas centre & scale\r\n    context.drawImage(this.elements.image,\r\n      (cx - this.data.x) / this.data.scale,\r\n      (cy - this.data.y) / this.data.scale\r\n    );\r\n  } else if(this.data.degrees == 90) { // swap axis and reverse the new y origin\r\n    context.drawImage(this.elements.image,\r\n      (cy - this.data.y) / this.data.scale,\r\n      (-1 * this.elements.image.naturalHeight) + ((-cx + this.data.x) / this.data.scale)\r\n    );\r\n  } else if(this.data.degrees == 180) { // reverse both origins\r\n    context.drawImage(this.elements.image,\r\n      (-1 * this.elements.image.naturalWidth) + ((-cx + this.data.x) / this.data.scale),\r\n      (-1 * this.elements.image.naturalHeight) + ((-cy + this.data.y) / this.data.scale)\r\n    );\r\n  } else if(this.data.degrees == 270) { // swap axis and reverse the new x origin\r\n    context.drawImage(this.elements.image,\r\n      (-1 * this.elements.image.naturalWidth) + ((-cy + this.data.y) / this.data.scale),\r\n      (cx - this.data.x) / this.data.scale\r\n    );\r\n  }\r\n\r\n  var base64 = canvas.toDataURL('image/jpeg');\r\n  this.events.triggerHandler('Cropped', base64);\r\n  return base64;\r\n};\r\n\r\nCropper.prototype.useHardwareAccelerate = function(element) {\r\n  element.style.perspective = '1000px';\r\n  element.style.backfaceVisibility = 'hidden';\r\n};\r\n\r\nCropper.prototype.extend = function(defaults, options) {\r\n  var target = defaults;\r\n  var defaultsKeys = Object.keys(defaults);\r\n\r\n  defaultsKeys.forEach(function(key, index, keysArray) {\r\n    if (options[key] !== undefined) {\r\n      target[key] = options[key];\r\n    }\r\n  });\r\n\r\n  return target;\r\n};\r\n\r\n/**\r\n * Helper for adding new event listener on element given.\r\n * @param element\r\n * @param eventNames\r\n * @param func\r\n * @param context\r\n */\r\nCropper.prototype.addEventListeners = function(element, eventNames, func, context) {\r\n  eventNames.split(' ').forEach(function(eventName) {\r\n    if (context) {\r\n      element.addEventListener(eventName, func.bind(context), false);\r\n    } else {\r\n      element.addEventListener(eventName, func, false);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Helper for removing event listener in element given.\r\n * @param element\r\n * @param eventNames\r\n * @param func\r\n * @param context\r\n */\r\nCropper.prototype.removeEventListeners = function(element, eventNames, func, context) {\r\n  eventNames.split(' ').forEach(function(eventName) {\r\n    if (context) {\r\n      element.removeEventListener(eventName, func.bind(context), false);\r\n    } else {\r\n      element.removeEventListener(eventName, func, false);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Helper for setting pointer position.\r\n * @param {object} event\r\n * @returns {{x: *, y: *}}\r\n */\r\nCropper.prototype.getPointerPosition = function(event) {\r\n  if (this.isTouchEvent(event)) {\r\n    event = event.touches[0];\r\n  }\r\n  return {\r\n    x: event.pageX,\r\n    y: event.pageY\r\n  };\r\n};\r\n/**\r\n * Helper for testing if the event is valid.\r\n * TODO: Comment this magic thing.\r\n * @param event\r\n * @returns {boolean}\r\n */\r\nCropper.prototype.isValidEvent = function(event) {\r\n  if (this.isTouchEvent(event)) {\r\n    return event.changedTouches.length === 1;\r\n  }\r\n  return event.which === 1;\r\n};\r\n\r\n/**\r\n * Helper for testing if the event is touch.\r\n * @param event\r\n * @returns {boolean}\r\n */\r\nCropper.prototype.isTouchEvent = function(event) {\r\n  return /touch/i.test(event.type);\r\n};\r\n\r\n/**\r\n * Helper for adding a timestamp at the end of an URL.\r\n * @param url\r\n * @returns {string}\r\n */\r\nCropper.prototype.addTimestamp = function(url) {\r\n  var timestamp = 'timestamp=' + (new Date()).getTime();\r\n  var sign = '?';\r\n\r\n  if (url.indexOf('?') !== -1) {\r\n    sign = '&';\r\n  }\r\n\r\n  return url.concat(sign, timestamp);\r\n};\r\n/**\r\n * Helper for checking if the given url is cross origin.\r\n * @param url\r\n * @returns {boolean}\r\n */\r\nCropper.prototype.isCrossOrigin = function(url) {\r\n  var parts = url.match();\r\n\r\n  return Boolean(parts && (\r\n      parts[1] !== location.protocol ||\r\n      parts[2] !== location.hostname ||\r\n      parts[3] !== location.port\r\n    ));\r\n};\r\n\r\n/**\r\n * Helper for converting arrayBuffer to base64.\r\n * @param arrayBuffer\r\n * @returns {string}\r\n */\r\nCropper.prototype.base64ArrayBuffer = function(arrayBuffer) {\r\n  var base64 = '';\r\n  var encodings = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n  var bytes = new Uint8Array(arrayBuffer);\r\n  var byteLength = bytes.byteLength;\r\n  var byteRemainder = byteLength % 3;\r\n  var mainLength = byteLength - byteRemainder;\r\n  var a, b, c, d;\r\n  var chunk;\r\n  // Main loop deals with bytes in chunks of 3\r\n  for (var i = 0; i < mainLength; i = i + 3) {\r\n    // Combine the three bytes into a single integer\r\n    chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\r\n    // Use bitmasks to extract 6-bit segments from the triplet\r\n    a = (chunk & 16515072) >> 18; // 16515072 = (2^6 - 1) << 18\r\n    b = (chunk & 258048) >> 12; // 258048   = (2^6 - 1) << 12\r\n    c = (chunk & 4032) >> 6; // 4032     = (2^6 - 1) << 6\r\n    d = chunk & 63;               // 63       = 2^6 - 1\r\n    // Convert the raw binary segments to the appropriate ASCII encoding\r\n    base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d];\r\n  }\r\n  // Deal with the remaining bytes and padding\r\n  if (byteRemainder == 1) {\r\n    chunk = bytes[mainLength];\r\n    a = (chunk & 252) >> 2; // 252 = (2^6 - 1) << 2\r\n    // Set the 4 least significant bits to zero\r\n    b = (chunk & 3) << 4; // 3   = 2^2 - 1\r\n    base64 += encodings[a] + encodings[b] + '==';\r\n  } else if (byteRemainder == 2) {\r\n    chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1];\r\n    a = (chunk & 64512) >> 10; // 64512 = (2^6 - 1) << 10\r\n    b = (chunk & 1008) >> 4; // 1008  = (2^6 - 1) << 4\r\n    // Set the 2 least significant bits to zero\r\n    c = (chunk & 15) << 2; // 15    = 2^4 - 1\r\n    base64 += encodings[a] + encodings[b] + encodings[c] + '=';\r\n  }\r\n  return base64;\r\n};\r\n\r\n/**\r\n * Helper for events handler.\r\n */\r\nCropper.prototype.events = new function() {\r\n  var _triggers = {};\r\n\r\n  this.on = function(event, callback) {\r\n    if (!_triggers[event]) {\r\n      _triggers[event] = [];\r\n    }\r\n    _triggers[event].push(callback);\r\n  };\r\n\r\n  this.triggerHandler = function(event, params) {\r\n    if (_triggers[event]) {\r\n      for (var i in _triggers[event]) {\r\n        _triggers[event][i](params);\r\n      }\r\n    }\r\n  };\r\n};\r\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VDcm9wcGVyLmpzPzJlYzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FO0FBQ3BFLGtEQUFrRDs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckMsb0NBQW9DO0FBQ3BDLG9DQUFvQzs7QUFFcEMsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QixlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0IsZ0NBQWdDLHVCQUF1Qjs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQixnQ0FBZ0MsdUJBQXVCOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7O0FBRUEsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxtQ0FBbUM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLG9DQUFvQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsb0NBQW9DO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQywrQkFBK0I7QUFDL0IsNEJBQTRCO0FBQzVCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxHQUFHO0FBQ0g7QUFDQSw4QkFBOEI7QUFDOUIsNEJBQTRCO0FBQzVCO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gQ3JvcHBlcjtcclxuXHJcbi8qKlxyXG4gKiBDcm9wcGVyLlxyXG4gKiBAcGFyYW0gb3B0aW9uc1xyXG4gKiBAcmV0dXJucyB7Q3JvcHBlcn1cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBDcm9wcGVyKG9wdGlvbnMpIHtcclxuXHJcbiAgaWYgKCFvcHRpb25zLmltYWdlVXJsKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nyb3BwZXI6IE5vIGltYWdlIHVybCBnaXZlbi4nKTtcclxuICB9XHJcblxyXG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xyXG4gIHRoaXMub3JpZ2luYWxVcmwgPSBvcHRpb25zLmltYWdlVXJsO1xyXG5cclxuICAvLyBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgY2hlY2tDcm9zc09yaWdpbjogZmFsc2UsXHJcbiAgICBhcGlDYWxsYmFjazogdW5kZWZpbmVkLFxyXG4gICAgY3JvcENhbGxiYWNrOiB1bmRlZmluZWQsXHJcbiAgICB3aWR0aDogNDAwLFxyXG4gICAgaGVpZ2h0OiAzMDAsXHJcbiAgICBpbWFnZVVybDogdW5kZWZpbmVkLFxyXG4gICAgdGFyZ2V0OiB1bmRlZmluZWQsXHJcbiAgICBzaG93Q29udHJvbHM6IHRydWUsXHJcbiAgICBmaXRPbkluaXQ6IGZhbHNlLFxyXG4gICAgY2VudGVyT25Jbml0OiBmYWxzZSxcclxuICAgIHpvb21TdGVwOiAwLjEsXHJcbiAgICBhY3Rpb25MYWJlbHM6IHtcclxuICAgICAgcm90YXRlTGVmdDogJyA8ICcsXHJcbiAgICAgIHJvdGF0ZVJpZ2h0OiAnID4gJyxcclxuICAgICAgem9vbUluOiAnICsgJyxcclxuICAgICAgem9vbU91dDogJyAtICcsXHJcbiAgICAgIGZpdDogJyhmaXQpJyxcclxuICAgICAgY3JvcDogJ1tjcm9wXSdcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBTZXR1cCBvcHRpb25zLlxyXG4gIHRoaXMub3B0aW9ucyA9IHRoaXMuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgLy8gU2V0dXAgZ2VzdHVyZSBldmVudHMuXHJcbiAgdGhpcy5nZXN0dXJlID0ge307XHJcbiAgdGhpcy5nZXN0dXJlLmV2ZW50cyA9IHtcclxuICAgIHN0YXJ0OiAndG91Y2hzdGFydCBtb3VzZWRvd24nLFxyXG4gICAgbW92ZTogJ3RvdWNobW92ZSBtb3VzZW1vdmUnLFxyXG4gICAgc3RvcDogJ3RvdWNoZW5kIG1vdXNldXAnXHJcbiAgfTtcclxuXHJcbiAgdGhpcy5wb2ludGVyUG9zaXRpb24gPSB1bmRlZmluZWQ7XHJcblxyXG4gIC8vIFNldHVwIGJhc2ljIGVsZW1lbnRzLlxyXG4gIHRoaXMuZWxlbWVudHMgPSB7XHJcbiAgICB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0LFxyXG4gICAgYm9keTogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXVxyXG4gIH07XHJcblxyXG4gIHRoaXMuYnVpbGRET00oKTtcclxuICB0aGlzLnVzZUhhcmR3YXJlQWNjZWxlcmF0ZSh0aGlzLmVsZW1lbnRzLmltYWdlKTtcclxuXHJcbiAgLy8gQVBJIFNldHVwOlxyXG4gIHZhciBhcGkgPSB7XHJcbiAgICBjcm9wOiB0aGlzLmNyb3BJbWFnZS5iaW5kKHRoaXMpLFxyXG4gICAgZml0OiB0aGlzLmFwcGx5Rml0LmJpbmQodGhpcyksXHJcbiAgICByb3RhdGU6IHRoaXMuYXBwbHlSb3RhdGlvbi5iaW5kKHRoaXMpLFxyXG4gICAgem9vbUluOiB0aGlzLmFwcGx5Wm9vbUluLmJpbmQodGhpcyksXHJcbiAgICB6b29tT3V0OiB0aGlzLmFwcGx5Wm9vbU91dC5iaW5kKHRoaXMpLFxyXG4gICAgcmVtb3ZlOiB0aGlzLnJlbW92ZS5iaW5kKHRoaXMpXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdGlhbGl6YXRpb24gb2YgdGhlIENyb3BwZXIgKGRpbWVuc2lvbnMsIGV2ZW50IGJpbmRpbmcuLi4pLlxyXG4gICAqL1xyXG4gIHRoaXMuZXZlbnRzLm9uKCdJbWFnZVJlYWR5JywgdGhpcy5pbml0aWFsaXplLmJpbmQodGhpcykpO1xyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gY3JvcHBlZC5cclxuICAgKi9cclxuICBpZiAodGhpcy5vcHRpb25zLmNyb3BDYWxsYmFjaykge1xyXG4gICAgdGhpcy5ldmVudHMub24oJ0Nyb3BwZWQnLCBmdW5jdGlvbihiYXNlNjQpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLmNyb3BDYWxsYmFjayhiYXNlNjQpO1xyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbmQgQVBJIHdoZW4gaW1hZ2UgaXMgcmVhZHkgaWYgcmVhZHlDYWxsYmFjayBpcyB0cnVlLlxyXG4gICAqL1xyXG4gIGlmICh0aGlzLm9wdGlvbnMuYXBpQ2FsbGJhY2spIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uKCdJbWFnZVJlYWR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucy5hcGlDYWxsYmFjayhhcGkpO1xyXG4gICAgfS5iaW5kKHRoaXMpKTtcclxuICB9XHJcbn1cclxuXHJcbkNyb3BwZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLnNldERpbWVuc2lvbnMoKTtcclxuXHJcbiAgaWYgKHRoaXMuaW1hZ2VIYXNUb0ZpdCgpKSB7XHJcbiAgICB0aGlzLmZpdEltYWdlKCk7XHJcbiAgICB0aGlzLmNlbnRlckltYWdlKCk7XHJcbiAgfVxyXG4gIHRoaXMuaW5pdGlhbGl6ZUdlc3R1cmUoKTtcclxuXHJcbiAgaWYgKHRoaXMub3B0aW9ucy5jZW50ZXJPbkluaXQpIHtcclxuICAgIHRoaXMuY2VudGVySW1hZ2UoKTtcclxuICB9XHJcblxyXG4gIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbnRyb2xzKSB7XHJcbiAgICB0aGlzLmJpbmRDb250cm9scygpO1xyXG4gIH1cclxufTtcclxuXHJcbkNyb3BwZXIucHJvdG90eXBlLmJpbmRDb250cm9scyA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuICB0aGlzLmVsZW1lbnRzLmNvbnRyb2xzLnJvdGF0ZUxlZnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIHNlbGYuYXBwbHlSb3RhdGlvbigtOTApO1xyXG4gIH0pO1xyXG4gIHRoaXMuZWxlbWVudHMuY29udHJvbHMucm90YXRlUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIHNlbGYuYXBwbHlSb3RhdGlvbig5MCk7XHJcbiAgfSk7XHJcbiAgdGhpcy5lbGVtZW50cy5jb250cm9scy56b29tSW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIHNlbGYuYXBwbHlab29tSW4oc2VsZi56b29tSW5GYWN0b3IpO1xyXG4gIH0pO1xyXG4gIHRoaXMuZWxlbWVudHMuY29udHJvbHMuem9vbU91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2VsZi5hcHBseVpvb21PdXQoc2VsZi56b29tT3V0RmFjdG9yKTtcclxuICB9KTtcclxuICB0aGlzLmVsZW1lbnRzLmNvbnRyb2xzLmZpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYXBwbHlGaXQuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5lbGVtZW50cy5jb250cm9scy5jcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jcm9wSW1hZ2UuYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG5Dcm9wcGVyLnByb3RvdHlwZS5hcHBseVJvdGF0aW9uID0gZnVuY3Rpb24oZGVncmVlKSB7XHJcbiAgdGhpcy5yb3RhdGVJbWFnZShkZWdyZWUpO1xyXG59O1xyXG5cclxuQ3JvcHBlci5wcm90b3R5cGUuYXBwbHlab29tSW4gPSBmdW5jdGlvbih6b29tKSB7XHJcbiAgdGhpcy56b29tSW1hZ2UoMSArIHBhcnNlRmxvYXQoem9vbSkpO1xyXG59O1xyXG5Dcm9wcGVyLnByb3RvdHlwZS5hcHBseVpvb21PdXQgPSBmdW5jdGlvbih6b29tKSB7XHJcbiAgdGhpcy56b29tSW1hZ2UoMSAvICggMSArIHBhcnNlRmxvYXQoem9vbSkpKTtcclxufTtcclxuXHJcbkNyb3BwZXIucHJvdG90eXBlLmFwcGx5Rml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy5maXRJbWFnZSgpO1xyXG4gIHRoaXMuY2VudGVySW1hZ2UoKTtcclxufTtcclxuXHJcbkNyb3BwZXIucHJvdG90eXBlLmltYWdlSGFzVG9GaXQgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5lbGVtZW50cy5pbWFnZS5uYXR1cmFsV2lkdGggPCB0aGlzLm9wdGlvbnMud2lkdGggfHxcclxuICAgIHRoaXMuZWxlbWVudHMuaW1hZ2UubmF0dXJhbEhlaWdodCA8IHRoaXMub3B0aW9ucy5oZWlnaHQgfHxcclxuICAgIHRoaXMud2lkdGggPCAxIHx8IHRoaXMuaGVpZ2h0IDwgMSB8fCAvLyAxIG1lYW5zIDEwMCUuXHJcbiAgICB0aGlzLm9wdGlvbnMuZml0T25Jbml0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEJ1aWxkIERPTSBlbGVtZW50IGZvciB0aGUgQ3JvcHBlciBhcHBlbmRlZCBpbiB0aGUgdGFyZ2V0ZWQgZWxlbWVudC5cclxuICovXHJcbkNyb3BwZXIucHJvdG90eXBlLmJ1aWxkRE9NID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIF9lbGVtZW50cztcclxuICBfZWxlbWVudHMgPSB0aGlzLmVsZW1lbnRzO1xyXG5cclxuICAvLyBXcmFwcGVyLlxyXG4gIF9lbGVtZW50cy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgX2VsZW1lbnRzLndyYXBwZXIuY2xhc3NOYW1lID0gJ2ltZ0Nyb3BwZXItd3JhcHBlcic7XHJcblxyXG4gIC8vIENvbnRhaW5lci5cclxuICBfZWxlbWVudHMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgX2VsZW1lbnRzLmNvbnRhaW5lci5jbGFzc05hbWUgPSAnaW1nQ3JvcHBlci1jb250YWluZXInO1xyXG5cclxuICAvLyBJbWFnZS5cclxuICBfZWxlbWVudHMuaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICBfZWxlbWVudHMuaW1hZ2UuY2xhc3NOYW1lID0gJ2ltZ0Nyb3BwZXItaW1hZ2UnO1xyXG5cclxuXHJcbiAgLy8gVGFyZ2V0IC0+IFdyYXBwZXIgLT4gQ29udGFpbmVyIC0+IEltYWdlXHJcbiAgX2VsZW1lbnRzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChfZWxlbWVudHMuaW1hZ2UpO1xyXG4gIF9lbGVtZW50cy53cmFwcGVyLmFwcGVuZENoaWxkKF9lbGVtZW50cy5jb250YWluZXIpO1xyXG4gIF9lbGVtZW50cy50YXJnZXQuYXBwZW5kQ2hpbGQoX2VsZW1lbnRzLndyYXBwZXIpO1xyXG5cclxuICBpZiAoIXRoaXMub3B0aW9ucy5zaG93Q29udHJvbHMpIHtcclxuICAgIHJldHVybiB0aGlzLmxvYWRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29udHJvbHMuXHJcbiAgX2VsZW1lbnRzLmNvbnRyb2xzID0ge307XHJcbiAgX2VsZW1lbnRzLmNvbnRyb2xzLndyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBfZWxlbWVudHMuY29udHJvbHMud3JhcHBlci5jbGFzc05hbWUgPSAnaW1nQ3JvcHBlci1jb250cm9scyc7XHJcblxyXG4gIF9lbGVtZW50cy5jb250cm9scy5yb3RhdGVMZWZ0ID0gdGhpcy5fYnVpbGRDb250cm9sKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMucm90YXRlTGVmdCk7XHJcbiAgX2VsZW1lbnRzLmNvbnRyb2xzLnJvdGF0ZVJpZ2h0ID0gdGhpcy5fYnVpbGRDb250cm9sKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMucm90YXRlUmlnaHQpO1xyXG4gIF9lbGVtZW50cy5jb250cm9scy56b29tSW4gPSB0aGlzLl9idWlsZENvbnRyb2wodGhpcy5vcHRpb25zLmFjdGlvbkxhYmVscy56b29tSW4pO1xyXG4gIF9lbGVtZW50cy5jb250cm9scy56b29tT3V0ID0gdGhpcy5fYnVpbGRDb250cm9sKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMuem9vbU91dCk7XHJcbiAgX2VsZW1lbnRzLmNvbnRyb2xzLmZpdCA9IHRoaXMuX2J1aWxkQ29udHJvbCh0aGlzLm9wdGlvbnMuYWN0aW9uTGFiZWxzLmZpdCk7XHJcblxyXG4gIF9lbGVtZW50cy5jb250cm9scy5jcm9wID0gdGhpcy5fYnVpbGRDb250cm9sKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMuY3JvcCk7XHJcblxyXG5cdC8vIFRhcmdldCAtPiBXcmFwcGVyIC0+IGJ1dHRvbnNcclxuXHQvL2QucGFyaXNpIG5vbiBwYXNzYW5kbyBsYSByZWxhdGl2YSBsYWJlbCDDqCBvcmEgcG9zc2liaWxlIG5hc2NvbmRlcmUgdW4gYm90dG9uZVxyXG5cdGlmKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMucm90YXRlTGVmdCl7XHJcblx0XHRfZWxlbWVudHMuY29udHJvbHMud3JhcHBlci5hcHBlbmRDaGlsZChfZWxlbWVudHMuY29udHJvbHMucm90YXRlTGVmdCk7XHJcblx0fVxyXG5cdGlmKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMuem9vbU91dCl7XHJcblx0XHRfZWxlbWVudHMuY29udHJvbHMud3JhcHBlci5hcHBlbmRDaGlsZChfZWxlbWVudHMuY29udHJvbHMuem9vbU91dCk7XHJcblx0fVxyXG5cdGlmKHRoaXMub3B0aW9ucy5hY3Rpb25MYWJlbHMuZml0KXtcclxuXHRcdF9lbGVtZW50cy5jb250cm9scy53cmFwcGVyLmFwcGVuZENoaWxkKF9lbGVtZW50cy5jb250cm9scy5maXQpO1xyXG5cdH1cclxuXHRpZih0aGlzLm9wdGlvbnMuYWN0aW9uTGFiZWxzLmNyb3Ape1xyXG5cdFx0X2VsZW1lbnRzLmNvbnRyb2xzLndyYXBwZXIuYXBwZW5kQ2hpbGQoX2VsZW1lbnRzLmNvbnRyb2xzLmNyb3ApO1xyXG5cdH1cclxuXHRpZih0aGlzLm9wdGlvbnMuYWN0aW9uTGFiZWxzLnpvb21Jbil7XHJcblx0XHRfZWxlbWVudHMuY29udHJvbHMud3JhcHBlci5hcHBlbmRDaGlsZChfZWxlbWVudHMuY29udHJvbHMuem9vbUluKTtcclxuXHR9XHJcblx0aWYodGhpcy5vcHRpb25zLmFjdGlvbkxhYmVscy5yb3RhdGVSaWdodCl7XHJcblx0XHRfZWxlbWVudHMuY29udHJvbHMud3JhcHBlci5hcHBlbmRDaGlsZChfZWxlbWVudHMuY29udHJvbHMucm90YXRlUmlnaHQpO1xyXG5cdH1cclxuXHJcblx0X2VsZW1lbnRzLnRhcmdldC5hcHBlbmRDaGlsZChfZWxlbWVudHMuY29udHJvbHMud3JhcHBlcik7XHJcbiAgdGhpcy5sb2FkSW1hZ2UoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBCdWlsZCBjb250cm9sIGVsZW1lbnQuXHJcbiAqIEBwYXJhbSBsYWJlbFxyXG4gKiBAcmV0dXJucyB7RWxlbWVudH1cclxuICovXHJcbkNyb3BwZXIucHJvdG90eXBlLl9idWlsZENvbnRyb2wgPSBmdW5jdGlvbihsYWJlbCkge1xyXG4gIHZhciBjb250cm9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgY29udHJvbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XHJcbiAgY29udHJvbC5pbm5lckhUTUwgPSBsYWJlbDtcclxuXHJcbiAgcmV0dXJuIGNvbnRyb2w7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIGFsbCBET00gZWxlbWVudCBwYXJ0cyBvZiB0aGUgQ3JvcHBlci5cclxuICovXHJcbkNyb3BwZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHM7XHJcbiAgZWxlbWVudHMudGFyZ2V0LnJlbW92ZUNoaWxkKGVsZW1lbnRzLndyYXBwZXIpO1xyXG4gIGlmICh0aGlzLm9wdGlvbnMuc2hvd0NvbnRyb2xzKSBlbGVtZW50cy50YXJnZXQucmVtb3ZlQ2hpbGQoZWxlbWVudHMuY29udHJvbHMud3JhcHBlcik7XHJcbn07XHJcblxyXG5Dcm9wcGVyLnByb3RvdHlwZS5sb2FkSW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgdmFyIHhocjtcclxuXHJcbiAgLy8gWE1MSHR0cFJlcXVlc3QgZGlzYWxsb3dzIHRvIG9wZW4gYSBEYXRhIFVSTCBpbiBzb21lIGJyb3dzZXJzIGxpa2UgSUUxMSBhbmQgU2FmYXJpLlxyXG4gIGlmICgvXmRhdGFcXDovLnRlc3QodGhpcy5vcmlnaW5hbFVybCkpIHtcclxuICAgIHRoaXMub3JpZ2luYWxCYXNlNjQgPSB0aGlzLm9yaWdpbmFsVXJsO1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0dXBJbWFnZVNSQygpO1xyXG4gIH1cclxuXHJcbiAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgeGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICBzZWxmLm9yaWdpbmFsQmFzZTY0ID0gc2VsZi5vcmlnaW5hbFVybDtcclxuICAgIHNlbGYuc2V0dXBJbWFnZVNSQygpO1xyXG4gIH07XHJcblxyXG4gIC8vIE5lZWQgdG8gaGF2ZSBwcm9wZXIgc2V0cyBvZiAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJyBvbiB0aGUgcmVxdWVzdGVkIHJlc291cmNlIHNlcnZlci5cclxuICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxmLm9yaWdpbmFsQXJyYXlCdWZmZXIgPSB0aGlzLnJlc3BvbnNlO1xyXG4gICAgc2VsZi5vcmlnaW5hbEJhc2U2NCA9ICdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCcgKyBzZWxmLmJhc2U2NEFycmF5QnVmZmVyKHRoaXMucmVzcG9uc2UpO1xyXG4gICAgc2VsZi5zZXR1cEltYWdlU1JDKCk7XHJcbiAgfTtcclxuICB4aHIub3BlbignZ2V0JywgdGhpcy5vcmlnaW5hbFVybCwgdHJ1ZSk7XHJcbiAgLy94aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2ltYWdlL2pwZycpOyAvLyBUT0RPOiBBdXRvIGRldGVybWluZSB0aGUgaW1hZ2UgTUlNRSdzIHR5cGUuXHJcbiAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgeGhyLnNlbmQoKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBjcm9zc09yaWdpbnMgYW5kIHNldHVwIGltYWdlIHNyYy5cclxuICovXHJcbkNyb3BwZXIucHJvdG90eXBlLnNldHVwSW1hZ2VTUkMgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgX2ltYWdlID0gdGhpcy5lbGVtZW50cy5pbWFnZTtcclxuXHJcbiAgaWYgKHRoaXMub3B0aW9ucy5jaGVja0Nyb3NzT3JpZ2luICYmIHRoaXMuaXNDcm9zc09yaWdpbih0aGlzLm9yaWdpbmFsVXJsKSkge1xyXG4gICAgdGhpcy5jcm9zc09yaWdpbiA9IF9pbWFnZS5jcm9zc09yaWdpbjtcclxuXHJcbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xyXG4gICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5vcmlnaW5hbFVybDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcclxuXHJcbiAgICAgIC8vIEJ1c3QgY2FjaGUgd2l0aCBhIHRpbWVzdGFtcC5cclxuICAgICAgdGhpcy5jcm9zc09yaWdpblVybCA9IHRoaXMuYWRkVGltZXN0YW1wKHRoaXMub3JpZ2luYWxVcmwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcclxuICAgIHRoaXMuZWxlbWVudHMuaW1hZ2UuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0dXAgaW1hZ2Ugc3JjLlxyXG4gIHRoaXMuZWxlbWVudHMuaW1hZ2Uuc3JjID0gdGhpcy5jcm9zc09yaWdpblVybCB8fCB0aGlzLm9yaWdpbmFsVXJsOyAvLyBOZWVkIHRvIHZlcmlmeS5cclxuICAvL3RoaXMuZWxlbWVudHMuaW1hZ2Uuc3JjID0gdGhpcy5vcmlnaW5hbEJhc2U2NDsgLy8gTmVlZCB0byB2ZXJpZnkuXHJcblxyXG4gIC8vIFdhaXRpbmcgdGhlIGltYWdlIGFzIGxvYWRlZCB0byB0cmlnZ2VyIGV2ZW50LlxyXG4gIHRoaXMuZWxlbWVudHMuaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmV2ZW50cy50cmlnZ2VySGFuZGxlcignSW1hZ2VSZWFkeScpO1xyXG4gIH0uYmluZCh0aGlzKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTZXQgZGltZW5zaW9ucy5cclxuICovXHJcbkNyb3BwZXIucHJvdG90eXBlLnNldERpbWVuc2lvbnMgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLnpvb21JbkZhY3RvciA9IDEgKyBwYXJzZUZsb2F0KHRoaXMub3B0aW9ucy56b29tU3RlcCk7XHJcbiAgdGhpcy56b29tT3V0RmFjdG9yID0gMSAvIHRoaXMuem9vbUluRmFjdG9yO1xyXG5cclxuICB0aGlzLmltYWdlUmF0aW8gPSB0aGlzLm9wdGlvbnMuaGVpZ2h0IC8gdGhpcy5vcHRpb25zLndpZHRoO1xyXG4gIHRoaXMud2lkdGggPSB0aGlzLmVsZW1lbnRzLmltYWdlLm5hdHVyYWxXaWR0aCAvIHRoaXMub3B0aW9ucy53aWR0aDtcclxuICB0aGlzLmhlaWdodCA9IHRoaXMuZWxlbWVudHMuaW1hZ2UubmF0dXJhbEhlaWdodCAvIHRoaXMub3B0aW9ucy5oZWlnaHQ7XHJcbiAgdGhpcy5sZWZ0ID0gMDtcclxuICB0aGlzLnRvcCA9IDA7XHJcbiAgdGhpcy5hbmdsZSA9IDA7XHJcbiAgdGhpcy5kYXRhID0ge1xyXG4gICAgc2NhbGU6IDEsXHJcbiAgICBkZWdyZWVzOiAwLFxyXG4gICAgeDogMCxcclxuICAgIHk6IDAsXHJcbiAgICB3OiB0aGlzLm9wdGlvbnMud2lkdGgsXHJcbiAgICBoOiB0aGlzLm9wdGlvbnMuaGVpZ2h0XHJcbiAgfTtcclxuXHJcbiAgLy8gQ29udGFpbmVyLlxyXG4gIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCAqIDEwMCArICclJztcclxuICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIDEwMCArICclJztcclxuICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAwO1xyXG4gIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSAwO1xyXG5cclxuICAvLyBXcmFwcGVyLlxyXG4gIHRoaXMuZWxlbWVudHMud3JhcHBlci5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XHJcbiAgdGhpcy5lbGVtZW50cy53cmFwcGVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gIHRoaXMuZWxlbWVudHMud3JhcHBlci5zdHlsZS5wYWRkaW5nVG9wID0gKHRoaXMuaW1hZ2VSYXRpbyAqIDEwMCkgKyAnJSc7XHJcblxyXG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XHJcbn07XHJcblxyXG4vKipcclxuICogSW1hZ2Ugc2hvdWxkIGJlIGFscmVhZHkgbG9hZGVkLlxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUdlc3R1cmUgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgdGhpcy5hZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnRzLmltYWdlLCB0aGlzLmdlc3R1cmUuZXZlbnRzLnN0YXJ0LCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgaWYgKHNlbGYuaXNSZWFkeSAmJiBzZWxmLmlzVmFsaWRFdmVudChldmVudCkpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHNlbGYucG9pbnRlclBvc2l0aW9uID0gc2VsZi5nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpO1xyXG4gICAgICBiaW5kKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciBiaW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICBzZWxmLmVsZW1lbnRzLmJvZHkuY2xhc3NMaXN0LmFkZCgnaW1nQ3JvcHBlci1kcmFnZ2luZycpO1xyXG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVycyhzZWxmLmVsZW1lbnRzLmJvZHksIHNlbGYuZ2VzdHVyZS5ldmVudHMubW92ZSwgZHJhZyk7XHJcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXJzKHNlbGYuZWxlbWVudHMuYm9keSwgc2VsZi5nZXN0dXJlLmV2ZW50cy5zdG9wLCB1bmJpbmQpO1xyXG4gIH07XHJcblxyXG4gIHZhciB1bmJpbmQgPSBmdW5jdGlvbigpIHtcclxuICAgIHNlbGYuZWxlbWVudHMuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdpbWdDcm9wcGVyLWRyYWdnaW5nJyk7XHJcbiAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXJzKHNlbGYuZWxlbWVudHMuYm9keSwgc2VsZi5nZXN0dXJlLmV2ZW50cy5tb3ZlLCBkcmFnKTtcclxuICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoc2VsZi5lbGVtZW50cy5ib2R5LCBzZWxmLmdlc3R1cmUuZXZlbnRzLnN0b3AsIHVuYmluZCk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGRyYWcgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgc2VsZi5kcmFnZ2luZy5jYWxsKHNlbGYsIGV2ZW50KTtcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERyYWdnaW5nIGFjdGlvbi5cclxuICogQHBhcmFtIGV2ZW50XHJcbiAqL1xyXG5Dcm9wcGVyLnByb3RvdHlwZS5kcmFnZ2luZyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgdmFyIGR4LCBkeSwgbGVmdCwgcCwgdG9wO1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblxyXG4gIHAgPSB0aGlzLmdldFBvaW50ZXJQb3NpdGlvbihldmVudCk7IC8vIEN1cnNvciBwb3NpdGlvbiBhZnRlciBtb3ZpbmcuXHJcblxyXG4gIGR4ID0gcC54IC0gdGhpcy5wb2ludGVyUG9zaXRpb24ueDsgLy8gRGlmZmVyZW5jZSAoY3Vyc29yIG1vdmVtZW50KSBvbiBYIGF4ZXMuXHJcbiAgZHkgPSBwLnkgLSB0aGlzLnBvaW50ZXJQb3NpdGlvbi55OyAvLyBEaWZmZXJlbmNlIChjdXJzb3IgbW92ZW1lbnQpIG9uIFkgYXhlcy5cclxuXHJcbiAgdGhpcy5wb2ludGVyUG9zaXRpb24gPSBwOyAvLyBVcGRhdGUgY3Vyc29yIHBvc2l0aW9uLlxyXG5cclxuICAvKipcclxuICAgKiBkeCA+IDAgaWYgbW92aW5nIHJpZ2h0LlxyXG4gICAqIGR4IC8gY2xpZW50V2lkdGggaXMgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHdyYXBwZXIncyB3aWR0aCBpdCBtb3ZlZCBvdmVyIFguXHJcbiAgICovXHJcbiAgbGVmdCA9IChkeCA9PT0gMCk/IG51bGwgOiB0aGlzLmxlZnQgLSBkeCAvIHRoaXMuZWxlbWVudHMud3JhcHBlci5jbGllbnRXaWR0aDtcclxuXHJcbiAgLyoqXHJcbiAgICogZHkgPiAwIGlmIG1vdmluZyBkb3duLlxyXG4gICAqIGR5IC8gY2xpZW50SGVpZ2h0IGlzIHRoZSBwZXJjZW50YWdlIG9mIHRoZSB3cmFwcGVyJ3Mgd2lkdGggaXQgbW92ZWQgb3ZlciBZLlxyXG4gICAqL1xyXG4gIHRvcCA9IChkeSA9PT0gMCk/IG51bGwgOiB0aGlzLnRvcCAtIGR5IC8gdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsaWVudEhlaWdodDtcclxuXHJcbiAgLy8gTW92ZS5cclxuICB0aGlzLnNldE9mZnNldChsZWZ0LCB0b3ApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNldCBpbWFnZSBvZmZzZXQgbWFuaXB1bGF0aW9ucy5cclxuICogQHBhcmFtIGxlZnQge251bWJlcn0gaXMgYSByZWxhdGl2ZSBudW1iZXIuXHJcbiAqIEBwYXJhbSB0b3Age251bWJlcn0gaXMgYSByZWxhdGl2ZSBudW1iZXIuXHJcbiAqL1xyXG5Dcm9wcGVyLnByb3RvdHlwZS5zZXRPZmZzZXQgPSBmdW5jdGlvbihsZWZ0LCB0b3ApIHtcclxuICAvKipcclxuICAgKiBPZmZzZXQgbGVmdC5cclxuICAgKi9cclxuICBpZiAobGVmdCB8fCBsZWZ0ID09PSAwKSB7XHJcbiAgICBpZiAobGVmdCA8IDApIHsgbGVmdCA9IDA7IH1cclxuICAgIGlmIChsZWZ0ID4gdGhpcy53aWR0aCAtIDEpIHsgbGVmdCA9IHRoaXMud2lkdGggLSAxOyB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50cy5jb250YWluZXIuc3R5bGUubGVmdCA9ICgtbGVmdCAqIDEwMCkudG9GaXhlZCgyKSArICclJztcclxuICAgIHRoaXMubGVmdCA9IGxlZnQ7XHJcbiAgICB0aGlzLmRhdGEueCA9IE1hdGgucm91bmQobGVmdCAqIHRoaXMub3B0aW9ucy53aWR0aCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPZmZzZXQgdG9wLlxyXG4gICAqL1xyXG4gIGlmICh0b3AgfHwgdG9wID09PSAwKSB7XHJcbiAgICBpZiAodG9wIDwgMCkgeyB0b3AgPSAwOyB9XHJcbiAgICBpZiAodG9wID4gdGhpcy5oZWlnaHQgLSAxKSB7IHRvcCA9IHRoaXMuaGVpZ2h0IC0gMTsgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICgtdG9wICogMTAwKS50b0ZpeGVkKDIpICsgJyUnO1xyXG4gICAgdGhpcy50b3AgPSB0b3A7XHJcbiAgICB0aGlzLmRhdGEueSA9IE1hdGgucm91bmQodG9wICogdGhpcy5vcHRpb25zLmhlaWdodCk7XHJcbiAgfVxyXG59O1xyXG5cclxuQ3JvcHBlci5wcm90b3R5cGUuZml0SW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcHJldldpZHRoLCByZWxhdGl2ZVJhdGlvO1xyXG5cclxuICBwcmV2V2lkdGggPSB0aGlzLndpZHRoO1xyXG4gIHJlbGF0aXZlUmF0aW8gPSB0aGlzLmhlaWdodCAvIHRoaXMud2lkdGg7XHJcblxyXG4gIGlmIChyZWxhdGl2ZVJhdGlvID4gMSkge1xyXG4gICAgdGhpcy53aWR0aCA9IDE7XHJcbiAgICB0aGlzLmhlaWdodCA9IHJlbGF0aXZlUmF0aW87XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMud2lkdGggPSAxIC8gcmVsYXRpdmVSYXRpbztcclxuICAgIHRoaXMuaGVpZ2h0ID0gMTtcclxuICB9XHJcblxyXG4gIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gKHRoaXMud2lkdGggKiAxMDApLnRvRml4ZWQoMikgKyAnJSc7XHJcbiAgdGhpcy5lbGVtZW50cy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gKHRoaXMuaGVpZ2h0ICogMTAwKS50b0ZpeGVkKDIpICsgJyUnO1xyXG5cclxuICB0aGlzLmRhdGEuc2NhbGUgKj0gdGhpcy53aWR0aCAvIHByZXZXaWR0aDtcclxufTtcclxuXHJcbkNyb3BwZXIucHJvdG90eXBlLmNlbnRlckltYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy5zZXRPZmZzZXQoKHRoaXMud2lkdGggLSAxKSAvIDIsICh0aGlzLmhlaWdodCAtIDEpIC8gMik7XHJcbn07XHJcblxyXG4vKipcclxuICogRG8gYSByb3RhdGlvbiBvbiB0aGUgaW1hZ2Ugd2l0aCBkZWdyZWVzIGdpdmVuLlxyXG4gKiBAcGFyYW0gZGVncmVlc1xyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUucm90YXRlSW1hZ2UgPSBmdW5jdGlvbihkZWdyZWVzKSB7XHJcbiAgLy8gT25seSByb3RhdGUgb2YgOTDCsC5cclxuICBpZiAoIShkZWdyZWVzICE9PSAwICYmIGRlZ3JlZXMgJSA5MCA9PT0gMCkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignQ3JvcHBlcjogU3VwcG9ydCBvbmx5IG11bHRpcGxlIG9mIDkwwrAgZm9yIHJvdGF0aW9uLicpO1xyXG4gIH1cclxuXHJcbiAgLy8gU21hbGxlc3QgcG9zaXRpdmUgZXF1aXZhbGVudCBhbmdsZSAodG90YWwgcm90YXRpb24pLlxyXG4gIHRoaXMuYW5nbGUgPSAodGhpcy5hbmdsZSArIGRlZ3JlZXMpICUgMzYwO1xyXG4gIGlmICh0aGlzLmFuZ2xlIDwgMCkge1xyXG4gICAgdGhpcy5hbmdsZSArPSAzNjA7XHJcbiAgfVxyXG5cclxuICAvLyBEaW1lbnNpb25zIGFyZSBjaGFuZ2VkP1xyXG4gIGlmIChkZWdyZWVzICUgMTgwICE9PSAwKSB7XHJcbiAgICAvKipcclxuICAgICAqIFN3aXRjaCBjYW52YXMgZGltZW5zaW9ucyAoYXMgcGVyY2VudGFnZXMpLlxyXG4gICAgICogY2FudmFzV2lkdGggPSBAd2lkdGggKiB0aGlzLm9wdGlvbnMud2lkdGg7IGNhbnZhc0hlaWdodCA9IEBoZWlnaHQgKiB0aGlzLm9wdGlvbnMuaGVpZ2h0XHJcbiAgICAgKiBUbyBtYWtlIGNhbnZhc1dpZHRoID0gY2FudmFzSGVpZ2h0ICh0byBzd2l0Y2ggZGltZW5zaW9ucyk6XHJcbiAgICAgKiA9PiBuZXdXaWR0aCAqIHRoaXMub3B0aW9ucy53aWR0aCA9IEBoZWlnaHQgKiB0aGlzLm9wdGlvbnMuaGVpZ2h0XHJcbiAgICAgKiA9PiBuZXdXaWR0aCA9IEBoZWlnaHQgKiB0aGlzLm9wdGlvbnMuaGVpZ2h0IC8gdGhpcy5vcHRpb25zLndpZHRoXHJcbiAgICAgKiA9PiBuZXdXaWR0aCA9IEBoZWlnaHQgKiB0aGlzLmltYWdlUmF0aW9cclxuICAgICAqL1xyXG4gICAgdmFyIHRlbXBXID0gdGhpcy5oZWlnaHQgKiB0aGlzLmltYWdlUmF0aW87XHJcbiAgICB2YXIgdGVtcEggPSB0aGlzLndpZHRoIC8gdGhpcy5pbWFnZVJhdGlvO1xyXG4gICAgdGhpcy53aWR0aCA9IHRlbXBXO1xyXG4gICAgdGhpcy5oZWlnaHQgPSB0ZW1wSDtcclxuICAgIGlmICh0aGlzLndpZHRoID49IDEgJiYgdGhpcy5oZWlnaHQgPj0gMSkge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKiAxMDAgKyAnJSc7XHJcbiAgICAgIHRoaXMuZWxlbWVudHMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogMTAwICsgJyUnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5maXRJbWFnZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyIG5ld1dpZHRoID0gMTtcclxuICB2YXIgbmV3SGVpZ2h0ID0gMTtcclxuXHJcbiAgLy8gQWRqdXN0IGVsZW1lbnQncyAoaW1hZ2UpIGRpbWVuc2lvbnMgaW5zaWRlIHRoZSBjb250YWluZXIuXHJcbiAgaWYgKHRoaXMuYW5nbGUgJSAxODAgIT09IDApIHtcclxuICAgIHZhciByYXRpbyA9IHRoaXMuaGVpZ2h0IC8gdGhpcy53aWR0aCAqIHRoaXMuaW1hZ2VSYXRpbztcclxuICAgIG5ld1dpZHRoID0gcmF0aW87XHJcbiAgICBuZXdIZWlnaHQgPSAxIC8gcmF0aW87XHJcbiAgfVxyXG5cclxuICB0aGlzLmVsZW1lbnRzLmltYWdlLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKiAxMDAgKyAnJSc7XHJcbiAgdGhpcy5lbGVtZW50cy5pbWFnZS5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHQgKiAxMDAgKyAnJSc7XHJcbiAgdGhpcy5lbGVtZW50cy5pbWFnZS5zdHlsZS5sZWZ0ID0gKDEgLSBuZXdXaWR0aCkgLyAyICogMTAwICsgJyUnO1xyXG4gIHRoaXMuZWxlbWVudHMuaW1hZ2Uuc3R5bGUudG9wID0gKDEgLSBuZXdIZWlnaHQpIC8gMiAqIDEwMCArICclJztcclxuXHJcblxyXG4gIHRoaXMuZWxlbWVudHMuaW1hZ2Uuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgnICsgdGhpcy5hbmdsZSArICdkZWcpJztcclxuICB0aGlzLmVsZW1lbnRzLmltYWdlLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHRoaXMuYW5nbGUgKyAnZGVnKSc7XHJcbiAgdGhpcy5lbGVtZW50cy5pbWFnZS5zdHlsZS5tb3pUcmFuc2Zvcm0gPSAncm90YXRlKCcgKyB0aGlzLmFuZ2xlICsgJ2RlZyknO1xyXG4gIHRoaXMuZWxlbWVudHMuaW1hZ2Uuc3R5bGUubXNUcmFuc2Zvcm0gPSAncm90YXRlKCcgKyB0aGlzLmFuZ2xlICsgJ2RlZyknO1xyXG4gIHRoaXMuZWxlbWVudHMuaW1hZ2Uuc3R5bGUub1RyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHRoaXMuYW5nbGUgKyAnZGVnKSc7XHJcblxyXG4gIHRoaXMuY2VudGVySW1hZ2UoKTtcclxuICB0aGlzLmRhdGEuZGVncmVlcyA9IHRoaXMuYW5nbGU7XHJcbn07XHJcblxyXG5Dcm9wcGVyLnByb3RvdHlwZS56b29tSW1hZ2UgPSBmdW5jdGlvbihmYWN0b3IpIHtcclxuICBpZiAoZmFjdG9yIDw9IDAgfHwgZmFjdG9yID09IDEpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHZhciBvcmlnaW5hbFdpZHRoID0gdGhpcy53aWR0aDtcclxuXHJcbiAgaWYgKHRoaXMud2lkdGggKiBmYWN0b3IgPiAxICYmIHRoaXMuaGVpZ2h0ICogZmFjdG9yID4gMSkge1xyXG4gICAgdGhpcy5oZWlnaHQgKj0gZmFjdG9yO1xyXG4gICAgdGhpcy53aWR0aCAqPSBmYWN0b3I7XHJcbiAgICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAodGhpcy5oZWlnaHQgKiAxMDApLnRvRml4ZWQoMikgKyAnJSc7XHJcbiAgICB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICh0aGlzLndpZHRoICogMTAwKS50b0ZpeGVkKDIpICsgJyUnO1xyXG4gICAgdGhpcy5kYXRhLnNjYWxlICo9IGZhY3RvcjtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5maXRJbWFnZSgpO1xyXG4gICAgZmFjdG9yID0gdGhpcy53aWR0aCAvIG9yaWdpbmFsV2lkdGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBLZWVwIHdpbmRvdyBjZW50ZXIuXHJcbiAgICogVGhlIG9mZnNldHMgYXJlIHRoZSBkaXN0YW5jZXMgYmV0d2VlbiB0aGUgaW1hZ2UgcG9pbnQgaW4gdGhlIGNlbnRlciBvZiB0aGUgd3JhcHBlclxyXG4gICAqIGFuZCBlYWNoIGVkZ2Ugb2YgdGhlIGltYWdlLCBsZXNzIGhhbGYgdGhlIHNpemUgb2YgdGhlIHdpbmRvdy5cclxuICAgKiBQZXJjZW50YWdlIG9mZnNldHMgYXJlIHJlbGF0aXZlIHRvIHRoZSBjb250YWluZXIgKHRoZSB3cmFwcGVyKSwgc28gaGFsZiB0aGUgd3JhcHBlclxyXG4gICAqIGlzIDUwJSAoMC41KSBhbmQgd2hlbiB6b29taW5nIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGFueSB0d28gcG9pbnRzIGluIHRoZSBpbWFnZVxyXG4gICAqIGdyb3dzIGJ5ICdmYWN0b3InLCBzbyB0aGUgbmV3IG9mZnNldHMgYXJlOlxyXG4gICAqXHJcbiAgICogb2Zmc2V0ID0gKHByZXYtY2VudGVyLXRvLWVkZ2UpICogZmFjdG9yIC0gaGFsZi13aW5kb3dcclxuICAgKlxyXG4gICAqL1xyXG4gIHZhciBsZWZ0ID0gKHRoaXMubGVmdCArIDAuNSkgKiBmYWN0b3IgLSAwLjU7XHJcbiAgdmFyIHRvcCA9ICh0aGlzLnRvcCArIDAuNSkgKiBmYWN0b3IgLSAwLjU7XHJcblxyXG4gIHRoaXMuc2V0T2Zmc2V0KGxlZnQsIHRvcCk7XHJcbn07XHJcblxyXG5Dcm9wcGVyLnByb3RvdHlwZS5jcm9wSW1hZ2UgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5jcm9wSGFuZGxlcigpO1xyXG59O1xyXG5cclxuQ3JvcHBlci5wcm90b3R5cGUuY3JvcEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgY2FudmFzLCBjb250ZXh0O1xyXG5cclxuICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcclxuICBjYW52YXMud2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGg7XHJcblxyXG4gIHZhciBjeCA9IC1jYW52YXMud2lkdGggLyAyO1xyXG4gIHZhciBjeSA9IC1jYW52YXMuaGVpZ2h0IC8gMjtcclxuXHJcbiAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gIGNvbnRleHQudHJhbnNsYXRlKC1jeCwtY3kpOyAvL21vdmUgdG8gY2VudHJlIG9mIGNhbnZhc1xyXG4gIGNvbnRleHQucm90YXRlKHRoaXMuZGF0YS5kZWdyZWVzICogTWF0aC5QSS8xODApO1xyXG4gIGNvbnRleHQuc2NhbGUodGhpcy5kYXRhLnNjYWxlLCB0aGlzLmRhdGEuc2NhbGUpO1xyXG5cclxuICBpZih0aGlzLmRhdGEuZGVncmVlcyA9PSAwKSB7IC8vIHNpbXBsZSBvZmZzZXRzIGZyb20gY2FudmFzIGNlbnRyZSAmIHNjYWxlXHJcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmVsZW1lbnRzLmltYWdlLFxyXG4gICAgICAoY3ggLSB0aGlzLmRhdGEueCkgLyB0aGlzLmRhdGEuc2NhbGUsXHJcbiAgICAgIChjeSAtIHRoaXMuZGF0YS55KSAvIHRoaXMuZGF0YS5zY2FsZVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYodGhpcy5kYXRhLmRlZ3JlZXMgPT0gOTApIHsgLy8gc3dhcCBheGlzIGFuZCByZXZlcnNlIHRoZSBuZXcgeSBvcmlnaW5cclxuICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuZWxlbWVudHMuaW1hZ2UsXHJcbiAgICAgIChjeSAtIHRoaXMuZGF0YS55KSAvIHRoaXMuZGF0YS5zY2FsZSxcclxuICAgICAgKC0xICogdGhpcy5lbGVtZW50cy5pbWFnZS5uYXR1cmFsSGVpZ2h0KSArICgoLWN4ICsgdGhpcy5kYXRhLngpIC8gdGhpcy5kYXRhLnNjYWxlKVxyXG4gICAgKTtcclxuICB9IGVsc2UgaWYodGhpcy5kYXRhLmRlZ3JlZXMgPT0gMTgwKSB7IC8vIHJldmVyc2UgYm90aCBvcmlnaW5zXHJcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLmVsZW1lbnRzLmltYWdlLFxyXG4gICAgICAoLTEgKiB0aGlzLmVsZW1lbnRzLmltYWdlLm5hdHVyYWxXaWR0aCkgKyAoKC1jeCArIHRoaXMuZGF0YS54KSAvIHRoaXMuZGF0YS5zY2FsZSksXHJcbiAgICAgICgtMSAqIHRoaXMuZWxlbWVudHMuaW1hZ2UubmF0dXJhbEhlaWdodCkgKyAoKC1jeSArIHRoaXMuZGF0YS55KSAvIHRoaXMuZGF0YS5zY2FsZSlcclxuICAgICk7XHJcbiAgfSBlbHNlIGlmKHRoaXMuZGF0YS5kZWdyZWVzID09IDI3MCkgeyAvLyBzd2FwIGF4aXMgYW5kIHJldmVyc2UgdGhlIG5ldyB4IG9yaWdpblxyXG4gICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5lbGVtZW50cy5pbWFnZSxcclxuICAgICAgKC0xICogdGhpcy5lbGVtZW50cy5pbWFnZS5uYXR1cmFsV2lkdGgpICsgKCgtY3kgKyB0aGlzLmRhdGEueSkgLyB0aGlzLmRhdGEuc2NhbGUpLFxyXG4gICAgICAoY3ggLSB0aGlzLmRhdGEueCkgLyB0aGlzLmRhdGEuc2NhbGVcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB2YXIgYmFzZTY0ID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycpO1xyXG4gIHRoaXMuZXZlbnRzLnRyaWdnZXJIYW5kbGVyKCdDcm9wcGVkJywgYmFzZTY0KTtcclxuICByZXR1cm4gYmFzZTY0O1xyXG59O1xyXG5cclxuQ3JvcHBlci5wcm90b3R5cGUudXNlSGFyZHdhcmVBY2NlbGVyYXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gIGVsZW1lbnQuc3R5bGUucGVyc3BlY3RpdmUgPSAnMTAwMHB4JztcclxuICBlbGVtZW50LnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG59O1xyXG5cclxuQ3JvcHBlci5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24oZGVmYXVsdHMsIG9wdGlvbnMpIHtcclxuICB2YXIgdGFyZ2V0ID0gZGVmYXVsdHM7XHJcbiAgdmFyIGRlZmF1bHRzS2V5cyA9IE9iamVjdC5rZXlzKGRlZmF1bHRzKTtcclxuXHJcbiAgZGVmYXVsdHNLZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5LCBpbmRleCwga2V5c0FycmF5KSB7XHJcbiAgICBpZiAob3B0aW9uc1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGFyZ2V0W2tleV0gPSBvcHRpb25zW2tleV07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB0YXJnZXQ7XHJcbn07XHJcblxyXG4vKipcclxuICogSGVscGVyIGZvciBhZGRpbmcgbmV3IGV2ZW50IGxpc3RlbmVyIG9uIGVsZW1lbnQgZ2l2ZW4uXHJcbiAqIEBwYXJhbSBlbGVtZW50XHJcbiAqIEBwYXJhbSBldmVudE5hbWVzXHJcbiAqIEBwYXJhbSBmdW5jXHJcbiAqIEBwYXJhbSBjb250ZXh0XHJcbiAqL1xyXG5Dcm9wcGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZXMsIGZ1bmMsIGNvbnRleHQpIHtcclxuICBldmVudE5hbWVzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmMuYmluZChjb250ZXh0KSwgZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBmb3IgcmVtb3ZpbmcgZXZlbnQgbGlzdGVuZXIgaW4gZWxlbWVudCBnaXZlbi5cclxuICogQHBhcmFtIGVsZW1lbnRcclxuICogQHBhcmFtIGV2ZW50TmFtZXNcclxuICogQHBhcmFtIGZ1bmNcclxuICogQHBhcmFtIGNvbnRleHRcclxuICovXHJcbkNyb3BwZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lcywgZnVuYywgY29udGV4dCkge1xyXG4gIGV2ZW50TmFtZXMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xyXG4gICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYy5iaW5kKGNvbnRleHQpLCBmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogSGVscGVyIGZvciBzZXR0aW5nIHBvaW50ZXIgcG9zaXRpb24uXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudFxyXG4gKiBAcmV0dXJucyB7e3g6ICosIHk6ICp9fVxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuZ2V0UG9pbnRlclBvc2l0aW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpZiAodGhpcy5pc1RvdWNoRXZlbnQoZXZlbnQpKSB7XHJcbiAgICBldmVudCA9IGV2ZW50LnRvdWNoZXNbMF07XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICB4OiBldmVudC5wYWdlWCxcclxuICAgIHk6IGV2ZW50LnBhZ2VZXHJcbiAgfTtcclxufTtcclxuLyoqXHJcbiAqIEhlbHBlciBmb3IgdGVzdGluZyBpZiB0aGUgZXZlbnQgaXMgdmFsaWQuXHJcbiAqIFRPRE86IENvbW1lbnQgdGhpcyBtYWdpYyB0aGluZy5cclxuICogQHBhcmFtIGV2ZW50XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuaXNWYWxpZEV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpZiAodGhpcy5pc1RvdWNoRXZlbnQoZXZlbnQpKSB7XHJcbiAgICByZXR1cm4gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID09PSAxO1xyXG4gIH1cclxuICByZXR1cm4gZXZlbnQud2hpY2ggPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogSGVscGVyIGZvciB0ZXN0aW5nIGlmIHRoZSBldmVudCBpcyB0b3VjaC5cclxuICogQHBhcmFtIGV2ZW50XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuaXNUb3VjaEV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICByZXR1cm4gL3RvdWNoL2kudGVzdChldmVudC50eXBlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZm9yIGFkZGluZyBhIHRpbWVzdGFtcCBhdCB0aGUgZW5kIG9mIGFuIFVSTC5cclxuICogQHBhcmFtIHVybFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuYWRkVGltZXN0YW1wID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgdmFyIHRpbWVzdGFtcCA9ICd0aW1lc3RhbXA9JyArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgdmFyIHNpZ24gPSAnPyc7XHJcblxyXG4gIGlmICh1cmwuaW5kZXhPZignPycpICE9PSAtMSkge1xyXG4gICAgc2lnbiA9ICcmJztcclxuICB9XHJcblxyXG4gIHJldHVybiB1cmwuY29uY2F0KHNpZ24sIHRpbWVzdGFtcCk7XHJcbn07XHJcbi8qKlxyXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGlmIHRoZSBnaXZlbiB1cmwgaXMgY3Jvc3Mgb3JpZ2luLlxyXG4gKiBAcGFyYW0gdXJsXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuaXNDcm9zc09yaWdpbiA9IGZ1bmN0aW9uKHVybCkge1xyXG4gIHZhciBwYXJ0cyA9IHVybC5tYXRjaCgpO1xyXG5cclxuICByZXR1cm4gQm9vbGVhbihwYXJ0cyAmJiAoXHJcbiAgICAgIHBhcnRzWzFdICE9PSBsb2NhdGlvbi5wcm90b2NvbCB8fFxyXG4gICAgICBwYXJ0c1syXSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHxcclxuICAgICAgcGFydHNbM10gIT09IGxvY2F0aW9uLnBvcnRcclxuICAgICkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBmb3IgY29udmVydGluZyBhcnJheUJ1ZmZlciB0byBiYXNlNjQuXHJcbiAqIEBwYXJhbSBhcnJheUJ1ZmZlclxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuQ3JvcHBlci5wcm90b3R5cGUuYmFzZTY0QXJyYXlCdWZmZXIgPSBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xyXG4gIHZhciBiYXNlNjQgPSAnJztcclxuICB2YXIgZW5jb2RpbmdzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xyXG4gIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcclxuICB2YXIgYnl0ZUxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XHJcbiAgdmFyIGJ5dGVSZW1haW5kZXIgPSBieXRlTGVuZ3RoICUgMztcclxuICB2YXIgbWFpbkxlbmd0aCA9IGJ5dGVMZW5ndGggLSBieXRlUmVtYWluZGVyO1xyXG4gIHZhciBhLCBiLCBjLCBkO1xyXG4gIHZhciBjaHVuaztcclxuICAvLyBNYWluIGxvb3AgZGVhbHMgd2l0aCBieXRlcyBpbiBjaHVua3Mgb2YgM1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWFpbkxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAvLyBDb21iaW5lIHRoZSB0aHJlZSBieXRlcyBpbnRvIGEgc2luZ2xlIGludGVnZXJcclxuICAgIGNodW5rID0gKGJ5dGVzW2ldIDw8IDE2KSB8IChieXRlc1tpICsgMV0gPDwgOCkgfCBieXRlc1tpICsgMl07XHJcbiAgICAvLyBVc2UgYml0bWFza3MgdG8gZXh0cmFjdCA2LWJpdCBzZWdtZW50cyBmcm9tIHRoZSB0cmlwbGV0XHJcbiAgICBhID0gKGNodW5rICYgMTY1MTUwNzIpID4+IDE4OyAvLyAxNjUxNTA3MiA9ICgyXjYgLSAxKSA8PCAxOFxyXG4gICAgYiA9IChjaHVuayAmIDI1ODA0OCkgPj4gMTI7IC8vIDI1ODA0OCAgID0gKDJeNiAtIDEpIDw8IDEyXHJcbiAgICBjID0gKGNodW5rICYgNDAzMikgPj4gNjsgLy8gNDAzMiAgICAgPSAoMl42IC0gMSkgPDwgNlxyXG4gICAgZCA9IGNodW5rICYgNjM7ICAgICAgICAgICAgICAgLy8gNjMgICAgICAgPSAyXjYgLSAxXHJcbiAgICAvLyBDb252ZXJ0IHRoZSByYXcgYmluYXJ5IHNlZ21lbnRzIHRvIHRoZSBhcHByb3ByaWF0ZSBBU0NJSSBlbmNvZGluZ1xyXG4gICAgYmFzZTY0ICs9IGVuY29kaW5nc1thXSArIGVuY29kaW5nc1tiXSArIGVuY29kaW5nc1tjXSArIGVuY29kaW5nc1tkXTtcclxuICB9XHJcbiAgLy8gRGVhbCB3aXRoIHRoZSByZW1haW5pbmcgYnl0ZXMgYW5kIHBhZGRpbmdcclxuICBpZiAoYnl0ZVJlbWFpbmRlciA9PSAxKSB7XHJcbiAgICBjaHVuayA9IGJ5dGVzW21haW5MZW5ndGhdO1xyXG4gICAgYSA9IChjaHVuayAmIDI1MikgPj4gMjsgLy8gMjUyID0gKDJeNiAtIDEpIDw8IDJcclxuICAgIC8vIFNldCB0aGUgNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIHRvIHplcm9cclxuICAgIGIgPSAoY2h1bmsgJiAzKSA8PCA0OyAvLyAzICAgPSAyXjIgLSAxXHJcbiAgICBiYXNlNjQgKz0gZW5jb2RpbmdzW2FdICsgZW5jb2RpbmdzW2JdICsgJz09JztcclxuICB9IGVsc2UgaWYgKGJ5dGVSZW1haW5kZXIgPT0gMikge1xyXG4gICAgY2h1bmsgPSAoYnl0ZXNbbWFpbkxlbmd0aF0gPDwgOCkgfCBieXRlc1ttYWluTGVuZ3RoICsgMV07XHJcbiAgICBhID0gKGNodW5rICYgNjQ1MTIpID4+IDEwOyAvLyA2NDUxMiA9ICgyXjYgLSAxKSA8PCAxMFxyXG4gICAgYiA9IChjaHVuayAmIDEwMDgpID4+IDQ7IC8vIDEwMDggID0gKDJeNiAtIDEpIDw8IDRcclxuICAgIC8vIFNldCB0aGUgMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIHRvIHplcm9cclxuICAgIGMgPSAoY2h1bmsgJiAxNSkgPDwgMjsgLy8gMTUgICAgPSAyXjQgLSAxXHJcbiAgICBiYXNlNjQgKz0gZW5jb2RpbmdzW2FdICsgZW5jb2RpbmdzW2JdICsgZW5jb2RpbmdzW2NdICsgJz0nO1xyXG4gIH1cclxuICByZXR1cm4gYmFzZTY0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEhlbHBlciBmb3IgZXZlbnRzIGhhbmRsZXIuXHJcbiAqL1xyXG5Dcm9wcGVyLnByb3RvdHlwZS5ldmVudHMgPSBuZXcgZnVuY3Rpb24oKSB7XHJcbiAgdmFyIF90cmlnZ2VycyA9IHt9O1xyXG5cclxuICB0aGlzLm9uID0gZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIV90cmlnZ2Vyc1tldmVudF0pIHtcclxuICAgICAgX3RyaWdnZXJzW2V2ZW50XSA9IFtdO1xyXG4gICAgfVxyXG4gICAgX3RyaWdnZXJzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnRyaWdnZXJIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHBhcmFtcykge1xyXG4gICAgaWYgKF90cmlnZ2Vyc1tldmVudF0pIHtcclxuICAgICAgZm9yICh2YXIgaSBpbiBfdHJpZ2dlcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgX3RyaWdnZXJzW2V2ZW50XVtpXShwYXJhbXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pbWFnZUNyb3BwZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("if (false) {\r\n  require('./imageCropperDirective.test.js')(angular);\r\n}\r\n\r\nmodule.exports = function(angular, Cropper) {\r\n  __webpack_require__(4);\r\n  angular\r\n    .module('imageCropper')\r\n    .directive('imageCropper', function() {\r\n      return {\r\n        restrict: 'E',\r\n        scope: {\r\n          centerOnInit: '@',\r\n          checkCrossOrigin: '@',\r\n          cropCallback: '&',\r\n          api: '&',\r\n          fitOnInit: '@',\r\n          height: '@',\r\n          imageUrl: '@',\r\n          showControls: '@',\r\n          width: '@',\r\n          zoomStep: '@',\r\n          actionLabels: '&'\r\n        },\r\n        bindToController: true,\r\n        controllerAs: 'vm',\r\n        controller: function() {\r\n          var self = this;\r\n\r\n          // Get action labels.\r\n          this.actionLabels = this.actionLabels();\r\n\r\n          // Get callback.\r\n          this.apiCallback = this.api();\r\n          this.cropCallback = this.cropCallback();\r\n\r\n          // Eval for boolean values.\r\n          this.fitOnInit = eval(this.fitOnInit);\r\n          this.centerOnInit = eval(this.centerOnInit);\r\n          this.checkCrossOrigin = eval(this.checkCrossOrigin);\r\n          this.showControls = eval(this.showControls);\r\n\r\n          this.init = function() {\r\n            this.target = this.element;\r\n            this.api = new Cropper(self);\r\n          }\r\n        },\r\n        'link': function(scope, element, attributes, controller) {\r\n          controller.element = element[0];\r\n          controller.init();\r\n        }\r\n      };\r\n    });\r\n};\r\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VDcm9wcGVyRGlyZWN0aXZlLmpzP2VlZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKE9OX1RFU1QpIHtcclxuICByZXF1aXJlKCcuL2ltYWdlQ3JvcHBlckRpcmVjdGl2ZS50ZXN0LmpzJykoYW5ndWxhcik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYW5ndWxhciwgQ3JvcHBlcikge1xyXG4gIHJlcXVpcmUoJy4vYW5ndWxhci1pbWFnZS1jcm9wcGVyLnNjc3MnKTtcclxuICBhbmd1bGFyXHJcbiAgICAubW9kdWxlKCdpbWFnZUNyb3BwZXInKVxyXG4gICAgLmRpcmVjdGl2ZSgnaW1hZ2VDcm9wcGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgY2VudGVyT25Jbml0OiAnQCcsXHJcbiAgICAgICAgICBjaGVja0Nyb3NzT3JpZ2luOiAnQCcsXHJcbiAgICAgICAgICBjcm9wQ2FsbGJhY2s6ICcmJyxcclxuICAgICAgICAgIGFwaTogJyYnLFxyXG4gICAgICAgICAgZml0T25Jbml0OiAnQCcsXHJcbiAgICAgICAgICBoZWlnaHQ6ICdAJyxcclxuICAgICAgICAgIGltYWdlVXJsOiAnQCcsXHJcbiAgICAgICAgICBzaG93Q29udHJvbHM6ICdAJyxcclxuICAgICAgICAgIHdpZHRoOiAnQCcsXHJcbiAgICAgICAgICB6b29tU3RlcDogJ0AnLFxyXG4gICAgICAgICAgYWN0aW9uTGFiZWxzOiAnJidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgIC8vIEdldCBhY3Rpb24gbGFiZWxzLlxyXG4gICAgICAgICAgdGhpcy5hY3Rpb25MYWJlbHMgPSB0aGlzLmFjdGlvbkxhYmVscygpO1xyXG5cclxuICAgICAgICAgIC8vIEdldCBjYWxsYmFjay5cclxuICAgICAgICAgIHRoaXMuYXBpQ2FsbGJhY2sgPSB0aGlzLmFwaSgpO1xyXG4gICAgICAgICAgdGhpcy5jcm9wQ2FsbGJhY2sgPSB0aGlzLmNyb3BDYWxsYmFjaygpO1xyXG5cclxuICAgICAgICAgIC8vIEV2YWwgZm9yIGJvb2xlYW4gdmFsdWVzLlxyXG4gICAgICAgICAgdGhpcy5maXRPbkluaXQgPSBldmFsKHRoaXMuZml0T25Jbml0KTtcclxuICAgICAgICAgIHRoaXMuY2VudGVyT25Jbml0ID0gZXZhbCh0aGlzLmNlbnRlck9uSW5pdCk7XHJcbiAgICAgICAgICB0aGlzLmNoZWNrQ3Jvc3NPcmlnaW4gPSBldmFsKHRoaXMuY2hlY2tDcm9zc09yaWdpbik7XHJcbiAgICAgICAgICB0aGlzLnNob3dDb250cm9scyA9IGV2YWwodGhpcy5zaG93Q29udHJvbHMpO1xyXG5cclxuICAgICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMuZWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5hcGkgPSBuZXcgQ3JvcHBlcihzZWxmKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgICdsaW5rJzogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMsIGNvbnRyb2xsZXIpwqB7XHJcbiAgICAgICAgICBjb250cm9sbGVyLmVsZW1lbnQgPSBlbGVtZW50WzBdO1xyXG4gICAgICAgICAgY29udHJvbGxlci5pbml0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaW1hZ2VDcm9wcGVyRGlyZWN0aXZlLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(5);\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(7)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js!../node_modules/sass-loader/index.js!./angular-image-cropper.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js!../node_modules/sass-loader/index.js!./angular-image-cropper.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYW5ndWxhci1pbWFnZS1jcm9wcGVyLnNjc3M/NjFkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUE4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdDQUFnQyxVQUFVLEVBQUU7QUFDNUMiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9hbmd1bGFyLWltYWdlLWNyb3BwZXIuc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvaW5kZXguanMhLi9hbmd1bGFyLWltYWdlLWNyb3BwZXIuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2luZGV4LmpzIS4vYW5ndWxhci1pbWFnZS1jcm9wcGVyLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvYW5ndWxhci1pbWFnZS1jcm9wcGVyLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("exports = module.exports = __webpack_require__(6)();\n// imports\n\n\n// module\nexports.push([module.id, \"body.imgCropper-dragging, body.imgCropper-dragging * {\\n  cursor: move !important;\\n  cursor: -webkit-grabbing !important;\\n  cursor: -moz-grabbing !important;\\n  cursor: grabbing !important;\\n  cursor: grabbing, move;\\n  /* IE hack */ }\\n\\n.imgCropper-wrapper {\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n  cursor: move;\\n  cursor: -webkit-grab;\\n  cursor: -moz-grab;\\n  cursor: grab;\\n  cursor: grab, move;\\n  /* IE hack */ }\\n\\n.imgCropper-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  text-align: center;\\n  margin: 0 !important;\\n  padding: 0 !important;\\n  border: none !important; }\\n\\n.imgCropper-container > * {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  max-width: none;\\n  max-height: none;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0 !important;\\n  padding: 0 !important;\\n  border: none !important; }\\n\\n.imgCropper-sample {\\n  position: absolute !important;\\n  top: -100000px     !important;\\n  left: -100000px    !important;\\n  width: auto        !important;\\n  height: auto       !important; }\\n\", \"\"]);\n\n// exports\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYW5ndWxhci1pbWFnZS1jcm9wcGVyLnNjc3M/OGZkYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7QUFHQTtBQUNBLGdGQUFnRiw0QkFBNEIsd0NBQXdDLHFDQUFxQyxnQ0FBZ0MsMkJBQTJCLG1CQUFtQix5QkFBeUIsbUJBQW1CLHVCQUF1QixxQkFBcUIsaUJBQWlCLHlCQUF5QixzQkFBc0IsaUJBQWlCLHVCQUF1QixtQkFBbUIsMkJBQTJCLHVCQUF1QixXQUFXLFlBQVksdUJBQXVCLHlCQUF5QiwwQkFBMEIsNEJBQTRCLEVBQUUsK0JBQStCLHVCQUF1QixXQUFXLFlBQVksb0JBQW9CLHFCQUFxQixnQkFBZ0IsaUJBQWlCLHlCQUF5QiwwQkFBMEIsNEJBQTRCLEVBQUUsd0JBQXdCLGtDQUFrQyxrQ0FBa0Msa0NBQWtDLGtDQUFrQyxrQ0FBa0MsRUFBRTs7QUFFdmpDIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJib2R5LmltZ0Nyb3BwZXItZHJhZ2dpbmcsIGJvZHkuaW1nQ3JvcHBlci1kcmFnZ2luZyAqIHtcXG4gIGN1cnNvcjogbW92ZSAhaW1wb3J0YW50O1xcbiAgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nICFpbXBvcnRhbnQ7XFxuICBjdXJzb3I6IC1tb3otZ3JhYmJpbmcgIWltcG9ydGFudDtcXG4gIGN1cnNvcjogZ3JhYmJpbmcgIWltcG9ydGFudDtcXG4gIGN1cnNvcjogZ3JhYmJpbmcsIG1vdmU7XFxuICAvKiBJRSBoYWNrICovIH1cXG5cXG4uaW1nQ3JvcHBlci13cmFwcGVyIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGN1cnNvcjogbW92ZTtcXG4gIGN1cnNvcjogLXdlYmtpdC1ncmFiO1xcbiAgY3Vyc29yOiAtbW96LWdyYWI7XFxuICBjdXJzb3I6IGdyYWI7XFxuICBjdXJzb3I6IGdyYWIsIG1vdmU7XFxuICAvKiBJRSBoYWNrICovIH1cXG5cXG4uaW1nQ3JvcHBlci1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IH1cXG5cXG4uaW1nQ3JvcHBlci1jb250YWluZXIgPiAqIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBtYXgtd2lkdGg6IG5vbmU7XFxuICBtYXgtaGVpZ2h0OiBub25lO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IDAgIWltcG9ydGFudDtcXG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcXG4gIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50OyB9XFxuXFxuLmltZ0Nyb3BwZXItc2FtcGxlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xcbiAgdG9wOiAtMTAwMDAwcHggICAgICFpbXBvcnRhbnQ7XFxuICBsZWZ0OiAtMTAwMDAwcHggICAgIWltcG9ydGFudDtcXG4gIHdpZHRoOiBhdXRvICAgICAgICAhaW1wb3J0YW50O1xcbiAgaGVpZ2h0OiBhdXRvICAgICAgICFpbXBvcnRhbnQ7IH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9zYXNzLWxvYWRlciEuL3NyYy9hbmd1bGFyLWltYWdlLWNyb3BwZXIuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzP2RhMDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQjtBQUN4RCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(false) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanM/Yjk4MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixtQkFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNCQUFzQjtBQUN0QztBQUNBO0FBQ0Esa0JBQWtCLDJCQUEyQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyQkFBMkI7QUFDNUM7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxpQkFBaUIsdUJBQXVCO0FBQ3hDO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxnQ0FBZ0Msc0JBQXNCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEOztBQUVBLDZCQUE2QixtQkFBbUI7O0FBRWhEOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihzb3VyY2VNYXApIHtcclxuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHJcblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblxyXG5cdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cclxuXHRpZihvbGRTcmMpXHJcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ])
});
;